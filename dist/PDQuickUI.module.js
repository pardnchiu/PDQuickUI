!function(){"use strict";const e=document,t=String,n=Number,i=Array,o=Object,r=Boolean,a=JSON,s=URL,l=Date,d=Math,c=RegExp,u=Promise,f=Node,g=parseInt,h=isNaN,p=structuredClone,m=setTimeout,y=/\{\{\s*(((CALC|LENGTH|UPPER|LOWER|DATE)\(\s*[\w\.\s\+\-\*\/\,\s\/\\:]+\s*\))|[\w\.]+)\s*\}\}/i,b=/\s+([\w\.]+)\s*$/i,k=/\s*[\!\>\<\=]+\=*\s*/,M=/([\w\.]+)\s*([\+\-\*\/\%])\s*([\d\.]+)/,C=/\.([\w_-]+)?/gi,w=/\#([\w_-]+)?/i,A=/^\w+(?=[\#\.]*)/i,D=":path",I=":for",N=":if",v=":else-if",x=":elif",E=":else",T="temp",P="render",j="push",O="splice",z="head",L="startsWith",S="children",R="parentElement",Y="textContent",Z="getAttribute",_="toUpperCase",B="toLowerCase",H="getElementById",$="createElement",U="toString",V="createDocumentFragment",G="cloneNode",W="classList",Q="join",X="includes",F="from",J="attributes",K="add",q="observe",ee="test",te="data",ne="event",ie="next",oe="trim",re="parse",ae="src",se="now",le="split",de="isArray",ce="indexOf",ue="class",fe="type",ge="props",he="vdom",pe="appendChild",me="createTextNode",ye="removeAttribute",be="keys",ke="parentNode",Me="setAttribute",Ce="addEventListener",we="TEXT_NODE",Ae="ELEMENT_NODE",De="headers",Ie="get",Ne="crossOrigin",ve="anonymous",xe="slice",Ee="unobserve",Te="key",Pe="remove",je="lazyload",Oe="script",ze="querySelectorAll",Le="tagName",Se="tag",Re="map",Ye="stringify",Ze="id",_e="style",Be="innerHTML",He="replace",$e="value",Ue="body",Ve="nodeType",Ge="length",We="match",Qe="shift",Xe="index",Fe={[N]:null,[v]:null,[x]:null,[E]:null},Je={":id":"id",":src":ae,":alt":"alt",":href":"href",tagHtml:"innerHTML"},Ke={":margin":"margin",":padding":"padding",":border":"border",":border-radius":"borderRadius",":outline":"outline",":box-sahdow":"boxShadow",":background-image":"backgroundImage",":background-attachment":"backgroundAttachment",":background-blend-mode":"backgroundBlendMode",":background-clip":"backgroundClip",":background-origin":"backgroundOrigin",":background-position":"backgroundPosition",":background-position-x":"backgroundPositionX",":background-position-y":"backgroundPositionY",":background-repeat":"backgroundRepeat",":background-size":"backgroundSize",":background-color":"backgroundColor",":color":"color",":bg-image":"backgroundImage",":bg-attachment":"backgroundAttachment",":bg-blend-mode":"backgroundBlendMode",":bg-clip":"backgroundClip",":bg-origin":"backgroundOrigin",":bg-position":"backgroundPosition",":bg-position-x":"backgroundPositionX",":bg-position-y":"backgroundPositionY",":bg-repeat":"backgroundRepeat",":bg-size":"backgroundSize",":bg-color":"backgroundColor",":borderRadius":"borderRadius",":boxSahdow":"boxShadow",":backgroundImage":"backgroundImage",":backgroundAttachment":"backgroundAttachment",":backgroundBlendMode":"backgroundBlendMode",":backgroundClip":"backgroundClip",":backgroundOrigin":"backgroundOrigin",":backgroundPosition":"backgroundPosition",":backgroundPositionX":"backgroundPositionX",":backgroundPositionY":"backgroundPositionY",":backgroundRepeat":"backgroundRepeat",":backgroundSize":"backgroundSize",":backgroundColor":"backgroundColor"},qe="before_render",et="rendered",tt="before_update",nt="updated",it="before_destroy",ot="destroyed",rt={create:"CREATE",append:"APPEND",replace:"REPLACE",text:"TEXT",prop:"PROP",remove:"REMOVE"},at="ID: 未提供",st="元素: 不存在。";e[z][pe](ut("style",'\n*[\\:effect="fade-in"],\n*[effect="fade-in"] {\n    opacity: 0;\n    transition: opacity 0.3s ease-in 0s;\n}\n\n*[\\:effect="fade-in"].show,\n*[effect="fade-in"].show {\n    opacity: 1;\n}\n\n*[\\:effect="expand"],\n*[effect="expand"] {\n    min-height: 0;\n    height: 0;\n    overflow: hidden;\n    transition: min-height 0.3s ease-in 0s;\n}\n\n*[\\:effect="expand"].show,\n*[effect="expand"].show {\n    opacity: 1;\n}\n\n*[\\:animation="fade-in"],\n*[animation="fade-in"] {\n    opacity: 0;\n    transition: opacity 0.3s ease-in 0s;\n}\n\n*[\\:animation="fade-in"].show,\n*[animation="fade-in"].show {\n    opacity: 1;\n}\n\n*[\\:animation="expand"],\n*[animation="expand"] {\n    min-height: 0;\n    height: 0;\n    overflow: hidden;\n    transition: min-height 0.3s ease-in 0s;\n}\n\n*[\\:animation="expand"].show,\n*[animation="expand"].show {\n    opacity: 1;\n}\n\n*[\\:mask="1=true"],\n*[mask="true"],\n*[\\:mask="1"],\n*[mask="1"] {\n    position: relative;\n}\n\n*[\\:mask="1=true"]::after,\n*[mask="true"]::after,\n*[\\:mask="1"]::after,\n*[mask="1"]::after {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(to right, #e0e0e0 25%, #f0f0f0, #e0e0e0 75%);\n    /* 使用灰色漸層 */\n    background-size: 200% 100%;\n    /* 背景尺寸兩倍寬度 */\n    animation: loading-animation 1.5s infinite alternate;\n    /* 來回移動動畫 */\n    z-index: 10;\n    transition: 0.3s;\n}\n\n*[\\:mask="1=true"]::after,\n*[mask="true"]::after,\n*[\\:mask="1"].show::after,\n*[mask="1"].show::after {\n    opacity: 0;\n}\n\n@keyframes loading-animation {\n    0% {\n        background-position: -100% 0;\n    }\n\n    100% {\n        background-position: 100% 0;\n    }\n}\n\nimg[lazyload]:not([lazyload=""]) {\n    animation: spin 2s ease-in-out infinite;\n}\n\n@keyframes spin {\n    0% {\n        transform: rotate(0deg);\n    }\n\n    100% {\n        transform: rotate(360deg);\n    }\n}'));const lt="\ndata:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzI1OTVfMzA1OSkiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE2IDEwQzE2IDExLjc3NyAxNS4yMjc1IDEzLjM3MzYgMTQgMTQuNDcyMkMxMi45Mzg1IDE1LjQyMjMgMTEuNTM2NyAxNiAxMCAxNlYyMEMxMS40MjIyIDIwIDEyLjc3NTEgMTkuNzAzMSAxNCAxOS4xNjc5QzE3LjUzMTggMTcuNjI0OCAyMCAxNC4xMDA2IDIwIDEwQzIwIDUuODk5MzYgMTcuNTMxOCAyLjM3NTIgMTQgMC44MzIwODdDMTIuNzc1MSAwLjI5Njg5NSAxMS40MjIyIDAgMTAgMFY0QzExLjUzNjcgNCAxMi45Mzg1IDQuNTc3NzEgMTQgNS41Mjc3OUMxNS4yMjc1IDYuNjI2NDMgMTYgOC4yMjMgMTYgMTBaIiBmaWxsPSIjMzQ5OERCIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNCAxMEM0IDExLjc3NyA0Ljc3MjUgMTMuMzczNiA2IDE0LjQ3MjJDNy4wNjE1MSAxNS40MjIzIDguNDYzMjkgMTYgMTAgMTZWMjBDOC41Nzc3OSAyMCA3LjIyNDkyIDE5LjcwMzEgNiAxOS4xNjc5QzIuNDY4MTkgMTcuNjI0OCAwIDE0LjEwMDYgMCAxMEMwIDUuODk5MzYgMi40NjgxOSAyLjM3NTIgNiAwLjgzMjA4N0M3LjIyNDkyIDAuMjk2ODk1IDguNTc3NzkgMCAxMCAwVjRDOC40NjMyOSA0IDcuMDYxNTEgNC41Nzc3MSA2IDUuNTI3NzlDNC43NzI1IDYuNjI2NDMgNCA4LjIyMyA0IDEwWiIgZmlsbD0iI0Q5RDlEOSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzI1OTVfMzA1OSI+CjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K\n";function dt(e,t,i){return e=n(e),i=n(i),h(e)||h(i)?void 0:"+"===t?e+i:"-"===t?e-i:"*"===t?e*i:"/"===t?e/i:"%"===t?e%i:e}async function ct(e,t=!1){return new u((async(n,i)=>{try{const o=await fetch(e);if(o.ok){const e=o[De][Ie]("Content-Type");if(e&&e[L]("image")){if("image/svg+xml"==e&&!t)return void n(o);const r=await o.blob(),a=new Image,l=s.createObjectURL(r);a[ae]=l,a[Ne]=ve,a.onload=e=>n({[ae]:l,img:a}),a.onerror=e=>{s.revokeObjectURL(l),i(e)}}else n(o)}else i(new Error(`HTTP error! status: ${o.status}`))}catch(e){i(e)}}))}function ut(n="",o,r){const a=((n[We](A)||[])[0]||"")[oe](),s=((n[We](w)||[])[1]||"")[oe](),l=(C[ee](n)&&n[We](C)||[])[Re]((e=>e[He](/^\./,"")));if(a[Ge]<1)return;let d,c,u,f=!1;"temp"===n?(f=!0,d=e[V]()):d=e[$](a),s[Ge]&&(d[Ze]=s);for(let e of l)d[W][K](e);if(null==o&&null!=r&&([o,r]=[r,null]),null!=o&&null!=r)[c,u]=[o,r];else if(null==r)"string"==typeof o||"number"==typeof o||i[de](o)?u=o:c=o;else if(null==o)return d;if("object"==typeof c&&null!=c)for(const e in c){if(!c.hasOwnProperty(e))continue;const t=c[e];-1!=["value","innerText",Be,"textContent","contentEditable"][ce](e)?d[e]=t:-1!=["color","backgroundColor","width","height","display","float"][ce](e)?d[_e][e]=t:null!=t&&d[Me](e,t)}if(null!=u){const n="string"==typeof u,o="number"==typeof u,r=i[de](u);if(n||o){const t=u;"img"===a||"source"===a?d[ae]=t:f?d[pe](e[me](u)):d[Be]=t}else if(r)for(let n of u){const i=n instanceof Element;"string"==typeof n||"number"==typeof n?d[pe](e[me](t(n))):i&&d[pe](n)}}return d}function ft(e,t,n){return new Proxy(e,{get(e,i,o){const r=Reflect[Ie](e,i,o),a=t?`${t}.${i[U]()}`:i[U]();return"object"==typeof r&&null!==r?ft(r,a,n):r},set(e,i,o,r){const a=e[i],s=Reflect.set(e,i,o,r),l=t?`${t}.${i[U]()}`:i[U]();return a!==o&&n(l,o,a),s}})}function gt(e,n="yyyy/MM/DD (ddd) HH:mm:ss"){const i=new Date(1e3*e),o=t(i.getFullYear()),r=t(i.getMonth()+1),a=t(i.getDate()),s=t(i.getDay()),l=t(i.getHours()),d=t(i.getMinutes()),c=t(i.getSeconds()),u=t(i.getMilliseconds());let f={YYYY:o,yyyy:o,YY:o[xe](-2),yy:o[xe](-2),Y:o[xe](-2),y:o[xe](-2),M:r,MM:("0"+r)[xe](-2),D:a,DD:("0"+a)[xe](-2),d:s,dd:("0"+s)[xe](-2),H:l,HH:("0"+l)[xe](-2),h:t(g(l)%12||12),hh:("0"+(g(l)%12||12))[xe](-2),m:d,mm:("0"+d)[xe](-2),s:c,ss:("0"+c)[xe](-2),SSS:("00"+u)[xe](-3),a:g(l)>=12?"pm":"am",A:g(l)>=12?"PM":"AM"};const h=/zh/.test(navigator.language||"")?["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return f.ddd=h[g(s)][xe](0,3),f.dddd=h[g(s)],n.replace(/YYYY|YY|Y|yyyy|yy|y|MM|M|DD|D|HH|H|hh|h|mm|m|ss|s|SSS|a|A|ddd|dddd/g,(e=>f[e]))}let ht,pt;new Map;function mt(e){return bt(yt(e[oe]()[He](/\s*([\{\}\[\]\:,])\s*/g,"$1")))}function yt(e){const t=[];let n=0;for(;n<e[Ge];){let i=kt(e,n),o=Mt(e,n);if(null==o&&null==i)break;if(null!=o&&null==i)t[j](o[$e]),n=o[ie];else if(null!=i){let o={[Se]:i[Se],[Ze]:i[Ze],[ue]:i[ue],[J]:{}};for(;"}"!==e[n];){if(e[xe](n,n+9)===S+":"){n+=9;const t=wt(e,n);o[S]=t[$e],n=t[ie]}const t=Ct(e,n,[Ze,ue,S]);t?(o[J][t[Te]]=t[$e],n=t[ie]):n++}n++,t[j](o)}}return t}function bt(t){const n=ut(T);if(!i[de](t))return n;for(let i of t){if(null==t)continue;const o=i[Se]+(null==i[Ze]?"":"#"+i[Ze])+(null==i[ue]?"":"."+i[ue][He](/\s/g,".")),r="string"==typeof i?e[me](i):ut(o,i[J]||{});null!=r&&("string"!=typeof i&&r[pe](bt(i[S])),n[pe](r))}return n}function kt(e,t){let n=t,i="",o="",r=[];for(;/[\s\,]/[ee](e[n]);)n++;for(;/[a-zA-Z]/[ee](e[n]);)i+=e[n],n++;if("#"===e[n])for(n++;/[a-zA-Z0-9_-]/[ee](e[n]);)o+=e[n],n++;for(;"."===e[n];){n++;let t="";for(;/[a-zA-Z0-9_-]/[ee](e[n]);)t+=e[n],n++;r[j](t)}const a=r[Q](" ");for(;/\s/[ee](e[n]);)n++;return"{"===e[n]?(n++,{[Se]:i[oe](),[Ze]:o||null,[ue]:a||null,[ie]:n}):null}function Mt(e,t){let n=t,i="";for(;/\s/[ee](e[n]);)n++;for(;'"'!==e[n];)n++;for(n++;'"'!==e[n];)i+=e[n],n++;return n++,{[$e]:i,[ie]:n}}function Ct(e,t,n=[]){let i=t,o="",r="";for(;/\s/[ee](e[i]);)i++;for(;/[a-zA-Z_-]/[ee](e[i]);)o+=e[i],i++;if(n[X](o[oe]()))return null;if(":"===e[i]){i++;const t=Mt(e,i);return r=t[$e],i=t[ie],{[Te]:o[oe](),[$e]:r,[ie]:i}}return null}function wt(e,t){let n=t,i=[],o=0,r="";for(;/\s/[ee](e[n]);)n++;for(;"["!==e[n];)n++;for(n++;n<e[Ge];){const t=e[n];if("{"===t)o++,r+=t;else if("}"===t)o--,r+=t;else{if("]"===t&&0===o){i=yt(r);break}r+=t}n++}return{[$e]:i,[ie]:n}}function At(...t){const n=ut(Oe,`console.log.apply(void 0, ${a[Ye](t)});`);e[Ue][pe](n),n[Pe]()}class Dt{#e;#t;#n;#i;#o;#r;#a;#s;#l;constructor(e={}){this.#e=e[qe]||void 0,this.#t=e[et]||void 0,this.#n=e[tt]||void 0,this.#i=e[nt]||void 0,this.#o=e[it]||void 0,this.#r=e[ot]||void 0}async#d(e){return new u(((t,n)=>{t(!1!==e())}))}#c(e){e(!1)}async render(e){this.#a=l.now(),null!=this.#e&&!1===await this.#d(this.#e)||(await e(),this.#s=l[se]()-this.#a,At("渲染耗時:",this.#s/1e3),null!=this.#t&&this.#c(this.#t))}async update(e){clearTimeout(this.#l),this.#l=setTimeout((async()=>{this.#a=l.now(),null!=this.#n&&!1===await this.#d(this.#n)||(await e(),this.#s=l[se]()-this.#a,At("更新耗時:",this.#s/1e3),null!=this.#i&&this.#c(this.#i))}),300)}async destroy(e){this.#a=l.now(),null!=this.#o&&!1===await this.#d(this.#o)||(await e(),this.#s=l[se]()-this.#a,At("銷毀耗時:",this.#s/1e3),null!=this.#r&&this.#c(this.#r))}}window.QUI=class{body;data;event;done={};#u=!0;#f=null;#g=null;#h=null;#p;constructor(n){if(t(n[Ze]||"")[Ge]<1)return void At(at);const i=e[H](n[Ze]);if(null==i)return void At(st);if(this.#f=i[G](!0),this.#h=new It(i),"function"==typeof n[P]){const e=n[P](),t=ut(T),o=i[G](!0);t[pe](mt(e)),o.replaceChildren(t),this.#f=o}this[Ue]=i,this[te]=ft(n[te]||{},"",(e=>{this.#p.update((()=>this.#m()))})),this[ne]=n[ne]||{};const o=n.option||{};!1!==o.svg&&function(){pt=new IntersectionObserver((async(e,t)=>{for(let t of e){const e=t.target;if(!t.isIntersecting)continue;const n=(e[Z](ae)||"")[oe]();if(n[Ge]<1)return;await ct(n).then((t=>{pt[Ee](e),t.text().then((t=>{const n=ut("div");n[Be]=t;const i=n[S][0];i.id=e.id,e.classList.forEach((e=>i.classList.add(e))),i.onclick=e.onclick,null!=e[R]&&e[R].insertBefore(i,e),e.remove()})).catch((t=>{e[Be]="☒"}))})).catch((t=>{e[Be]="☒"}))}}));for(let e of[][xe].call(document.body.querySelectorAll("temp-svg[src]:not([src=''])")||[]))ht[q](e)}(),!1!==o[je]&&function(){ht=new IntersectionObserver((async(e,t)=>{for(let t of e){const e=t.target;if(!t.isIntersecting)continue;ht[Ee](e);const n=(e[Z](je)||"")[oe]();if(n[Ge]<1)return;await ct(n,!0).then((t=>{e[ae]=t[ae]})).catch((t=>{e[ae]="https://cdn.jsdelivr.net/gh/pardnchiu/PDRenderKit@latest/static/image/404.svg"})),e[ye](je)}}));for(let e of[][xe].call(document.body.querySelectorAll("img[lazyload]:not([lazyload=''])")||[]))ht[q](e)}();const r=n.when||n.lifecycle||{};this.#p=new Dt({before_render:r[qe]||n[qe],rendered:r[et]||n[et],before_update:r[tt]||n[tt],updated:r[nt]||n[nt],before_destroy:r[it]||n[it],destroyed:r[ot]||n[ot]}),this.#p.render((()=>{this.#m().then((e=>{this.#u=!1}))}))}#m(){return new Promise((async e=>{this.#g=new It(this.#f),null!=this.#g&&(this.#g.data=JSON.parse(JSON.stringify(this.data)),await this.#g.updateChildren(),this.#y(),e(!0))}))}#y(){const t=e[H](this[Ue][Ze]);if(null==t)return void At(st);const n=this.#g?.getPatches(this.#h);i[de](n)&&this.#b(t,n);for(let e of t[ze]("*[\\:if]"))e[ye](":if");t[W][K]("show"),"expand"!=t[Z]("effect")&&"expand"!=t[Z]("animation")||(t[_e].minHeight=t.scrollHeight+"px"),m((()=>{t.removeAttribute("effect"),t.removeAttribute("animation"),t.removeAttribute("mask"),t[W][Pe]("fade-in"),t[W][Pe]("loading-block"),t[W][Pe]("expand"),t[W][Pe]("show")}),300),this.#h=this.#g}#b(t,n){if(null!=t&&i[de](n)){(()=>{const e=n.filter((e=>e.type===rt.remove)).sort(((e,t)=>{const n=(t.index.length||0)-(e.index.length||0);if(0!==n)return n;for(let n=0;n<(e.index.length||0);n++)if((e.index[n]||0)!==(t.index[n]||0))return(t.index[n]||0)-(e.index[n]||0);return 0}));for(const n of e){const e=this.#k(t,n.index);null!=e&&null!=e[ke]&&e[ke].removeChild(e)}})();for(let i of n){let n,{index:r}=i,s=a[re](a[Ye](r||[]));i.type===rt.append&&(n=s?.pop());const l=s?this.#k(t,s):t;if(l)if(i.type===rt.create&&he in i){const t="string"==typeof i.vdom?e[me](i.vdom):this.#M(i.vdom);if(null==l[R])continue;l[R][pe](t)}else if(i.type===rt.replace&&he in i&&null!=l[ke]){const t="string"==typeof i.vdom?e[me](i.vdom):this.#M(i.vdom);if(l[ke].replaceChild(t,l),t instanceof Text||"string"==typeof i.vdom)continue;for(const[e,n]of o.entries(i.vdom[ge]))this.#C(t,e,n||"",i.vdom);this.#w(i.vdom,t)}else if(i.type===rt.text&&$e in i&&null!=l)l[Y]=i.value||"";else if(i.type===rt.prop&&Te in i&&l instanceof Element)this.#C(l,i.key,i.value||"",i.vdom);else if(i.type===rt.append&&he in i&&null!=n){const t="string"==typeof i.vdom?e[me](i.vdom):this.#M(i.vdom);if(n+1>l[S][Ge]?l[pe](t):l.insertBefore(t,l[S][n+1]),"string"==typeof i.vdom)continue;for(const[e,t]of o.entries(i.vdom[ge]))this.#C(l[S][n],e,t||"",i.vdom);this.#w(i.vdom,l[S][n])}}}}#C(e,t,n,i){null==n?e[ye](t):t[L](":@")||t[L]("@")?this.#A(e,t,n,i):t[B]()[L](":model")?this.#D(e,t,n):t[L](":")?this.#I(e,t,n,i):null!=e&&e[Me](t,n)}#A(e,t,n,i){(()=>{if(!1===t[L]("@"))return;const i=t[He](/^\@/,"on"),o=this[ne][n];e[i]=o})(),(()=>{if(!1===t[L](":@"))return;const o=t[He](/^\:\@/,"on"),r=this.#N(n,i[te]),a=this[ne][r];e[o]=a})(),e[ye](t)}#D(t,n,i){if(null==i||!/(input|select|textarea)/i[ee](t[Le]))return;const o=t instanceof HTMLInputElement,r=t instanceof HTMLTextAreaElement,a=t instanceof HTMLSelectElement,s=t[Z]("type");!o||"checkbox"!==s&&"radio"!==s?a?t[Ce]("change",(e=>{this[te][i]=e.target[$e]||""})):(o||r)&&(t[Ce]("keyup",(e=>{this[te][i]=e.target[$e]||""})),t[Ce]("change",(e=>{this[te][i]=e.target[$e]||""}))):t[Ce]("change",(t=>{this[te][i]=[...e.body.querySelectorAll("input[name='"+t.target.name+"'][type='"+s+"']:checked")].map((e=>e.value)).join(",")})),t[ye](n)}#I(e,t,n,i){const o=null==this.#N(n,i[te])?n:this.#N(n,i[te]),a=(Je[t[B]()]||"")[oe](),s=(Ke[t[B]()]||"")[oe](),l=t[U]()[He](/^\:/g,"")[He](/-+/g," ")[He](/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e[B]():e[_]()}))[He](/\s+/g,"");if(":lazyload"===t[B]()&&n[oe]()[Ge]>0)if(this.#u)e.src=lt,ht[q](e);else{if(null==e[Z](je))return void(e.src=o);e.src=lt,ht[q](e)}if(t[B]()===I);else if(":src"===t[B]()&&"temp-svg"===i.tag[B]()&&n[oe]()[Ge]>0){const t=this.#N(n,i[te])||n;e[Me](ae,t),pt[q](e)}else t[B]()in Fe||(t[B]()in Je?e[a]=o:t[B]()in Ke?e[_e][s]=o:!(l in e[_e])||":animation"===t&&/(fade-in|expand)/.test(n)?":hide"===t[B]()&&r(h(+o)?o:+o)?e[_e].display="none":o[Ge]>0&&e[Me](`${t[He](/^:/,"")}`,o):e[_e][l]=o);e[ye](t)}#w(e,t){if("string"!=typeof e)for(const n in e.children.filter((e=>"string"!=typeof e))){if(null==t)continue;const i=e.children[+n],r=t.children[+n];if("string"!=typeof i){for(const[e,t]of o.entries(i[ge]))this.#C(r,e,t||"",i);this.#w(i,r)}}}#N(e,n){if(e[oe]()[Ge]<1)return;const r=y[ee](e);let a="",s="";r&&(a=e[le](y)[0]||"",s=e[le](y)[4]||"",e=e[We](y)[1]);const l=/^LENGTH\(.+\)/[ee](e);l&&(e=e[He](/^LENGTH\(|\)$/g,""));const d=/^CALC\(.*\)$/[ee](e);let c="",u=0;if(d){const t=(e=e[He](/^CALC\(|\)$/g,""))[We](M);e=t[1],c=t[2],u=+t[3]||0}const f=/^UPPER\(.*\)$/[ee](e),g=/^LOWER\(.*\)$/[ee](e);(f||g)&&(e=e[He](/^(UPPER|LOWER)\(|\)$/g,""));const h=/^DATE\([\w\,\-\s\:]*\)$/[ee](e);let p="";if(h){const t=(e=e[He](/^DATE\(|\)$/g,""))[We](/(\w+),\s*([^\n]+)/);e=t[1],p=t[2]}let m=e[le](/\./),b=n||this[te],k=m[0],C=b[k];for(m[Qe]();m[Ge]>0;)b=C||{},k=m[0],C=b[k],m[Qe]();if(null==C)for(m=e[le](/\./),b=this[te],k=m[0],C=b[k],m[Qe]();m[Ge]>0;)b=C||{},k=m[0],C=b[k],m[Qe]();let w="";if(null!=C&&C instanceof Object&&!i[de](C)?w=t(o[be](C)[Ge]):null!=C&&(w=C[Ge]),r){if(l)return a+w+s;if(d&&(C=dt(C,c,u),null==C))return;return a+C+s}if(l)return w;if(d){if(C=dt(C,c,u),null==C)return}else{if(f)return C[_]();if(g)return C[B]();if(h)return gt(+C,p)}return C}#k(e,t){let n=e,o=i.from(n.childNodes).filter((e=>e.nodeType===f[Ae]||e.nodeType===f[we]&&""!==e[Y]?.trim()))||[];for(const e of t)n=o[e],null!=n&&(o=i.from(n.childNodes).filter((e=>e.nodeType===f[Ae]||e.nodeType===f[we]&&""!==e[Y]?.trim()))||[]);return n}#M(t){const n=e.createElement(t.tag);if(t[ge])for(const[e,i]of o.entries(t[ge]))e[L](":")||e[L]("@")||void 0!==i&&n[Me](e,i);for(const i of t[S])"string"==typeof i?n[pe](e[me](i)):n[pe](this.#M(i));return n}};class It{tag="";props={};children=[];data=null;constructor(t){if(t[Le][B]()===Oe){let n=!1;for(const i of e[z][ze](Oe)||[])if(null!=t[ae]&&i[ae]===t[ae]||null!=t[Y]&&i[Y]===t[Y]){n=!0;break}n||e[z][pe](t),this[Se]=Oe}this[Se]=t[Le][B](),this[ge]=[...t.attributes].reduce(((e,t)=>(e[t.name]=t.value.trim(),e)),{}),this[S]=function(e){return i[F](e.childNodes).filter((e=>e[Ve]===f[Ae]||e[Ve]===f[we]&&e[Y]&&e[Y][oe]()[Ge]>0))}(t)[Re]((e=>e.nodeType===Node[Ae]?new It(e):(e[Y]||"")[oe]()))}async updateChildren(){this.#v(this),this.#x(this),await this.#E(this),this.#v(this),this.#x(this),this.#T(this)}getPatches(e){return this.#P(e,this)}#v(e){let t=0;if(!("string"==typeof e||e[S][Ge]<1)){for(;t<e[S][Ge];){const n=e[S][t];if("string"==typeof n){t++;continue}if(null==n[te]&&(n[te]=e[te]),!(I in n[ge])){t++;continue}const o=n[ge][I],r=(o[We](/^\(?\s*(\w+)/)||[])[1],s=(o[We](/\,\s*(\w+)/)||[])[1],l=(o[We](b)||[])[1];let d=this.#N(l,e[te]),c=[];if(delete n[ge][I],i[de](d)){d=a[re](a[Ye](d));for(const e in d){const t=a[re](a[Ye](d[+e]));let i=p(n);i[te]=a[re](a[Ye]({[r]:t,[l]:d})),null!=s&&(i[te][s]=+e),c.push(i)}e[S][O](t,1,...c),t+=c[Ge]-2}else if(null!=d&&"object"==typeof d){d=a[re](a[Ye](d));for(const e in d){const t=a[re](a[Ye](d[e]));let i=p(n);i[te]=a[re](a[Ye]({[r]:e,[s]:t,[l]:d})),c.push(i)}e[S][O](t,1,...c),t+=c[Ge]-2}else t++}for(let t of e[S])this.#v(t)}}#x(e){let i=0;if(!("string"==typeof e||e[S][Ge]<1)){for(;i<e[S][Ge];){const o=e[S][i];if("string"==typeof o){i++;continue}if(!(N in o[ge])){delete o[ge][v],delete o[ge][x],delete o[ge][E],i++;continue}let a=i+1,s=e[S][a],l=[i],d=!1;(()=>{for(;!d;){if(l[j](a),a+=1,s=e[S][a],null==s||"string"==typeof s){d=!0;continue}const t=s[ge]||{};d=null==(t[v]||t[x]||t[E])}})();let c=!1;for(let o of l){const a=e[S][o];if(null==a||"string"==typeof a)return;const s=a[ge][N]||a[ge][v]||a[ge][x],d=null!=a[ge][E];if(c)return;if(d)e[S][O](i,l.length,a);else if(null!=s){const o=s[le](k)[0],d=s[le](k)[1],u=((s[We](k)||[])[0]||"")[oe](),f=this.#N(o,a[te]);if(null==d&&u[Ge]<1?c=r(f):">"===u?c=(n(f)||0)>(n(d)||0):"<"===u?c=(n(f)||0)<(n(d)||0):">="===u||">=="===u?c=(n(f)||0)>=(n(d)||0):"<="===u||"<=="===u?c=(n(f)||0)<=(n(d)||0):"=="===u||"==="===u?c="null"==d?null==f:"true"==d?r(f):"false"==d?!r(f):"empty"==d?t(f||"")[Ge]<1:t(f||"")==t(d):"!="!==u&&"!=="!==u||(c="null"==d?null!=f:"true"==d?!r(f):"false"==d?r(f):"empty"==d?t(f||"")[Ge]>0:t(f||"")!=t(d)),c)return delete a[ge][N],void e[S][O](i,l.length,a)}}c?i+=l.length-2:i++}for(let t of e[S])this.#x(t)}}async#E(e){let t=0;if(!("string"==typeof e||e[S][Ge]<1)){for(;t<e[S][Ge];){const n=e[S][t];if("string"==typeof n){t++;continue}if(!(D in n[ge])||"temp"!=n.tag){t++;continue}const i=n[ge][D],o=this.#N(i,e[te])||i;delete n[ge][D],await fetch(o).then((async n=>{const i=ut("div",await n.text()).cloneNode(!0),o=new It(i);e[S][O](t,1,...o[S]),t+=o[S][Ge]-2})),t++}for(let t of e[S])await this.#E(t)}}#T(e){let t=0;if(!("string"==typeof e||e[S][Ge]<1)){for(;t<e[S][Ge];){let n=e[S][t];if("string"==typeof n)for(let i of n[We](new c(y,"g"))||[]){const n=e[S][t]||"",o=i[We](y)||[];if(o[Ge]<1)continue;const r=o[1]||"",a=this.#N(r,e[te]);"string"!=typeof n||r.length<1||null==a||(e[S][t]=n[He](new c("{{\\s*?"+r[He](/(\?|\.|\+|\*|\\|\%|\-|\(|\))/g,"\\$1")+"\\s*?}}","i"),a))}else null!=n&&null==n[te]&&(n[te]=e[te]);t++}for(let t of e[S])this.#T(t)}}#N(e,n){if(e[oe]()[Ge]<1)return;const r=y[ee](e);let a="",s="";r&&(a=e[le](y)[0]||"",s=e[le](y)[4]||"",e=e[We](y)[1]);const l=/^LENGTH\(.+\)/[ee](e);l&&(e=e[He](/^LENGTH\(|\)$/g,""));const d=/^CALC\(.*\)$/[ee](e);let c="",u=0;if(d){const t=(e=e[He](/^CALC\(|\)$/g,""))[We](M);e=t[1],c=t[2],u=+t[3]||0}const f=/^UPPER\(.*\)$/[ee](e),g=/^LOWER\(.*\)$/[ee](e);(f||g)&&(e=e[He](/^(UPPER|LOWER)\(|\)$/g,""));const h=/^DATE\([\w\,\-\s\:]*\)$/[ee](e);let p="";if(h){const t=(e=e[He](/^DATE\(|\)$/g,""))[We](/(\w+),\s*([^\n]+)/);e=t[1],p=t[2]}let m=e[le](/\./),b=n||this[te],k=m[0],C=b[k];for(m[Qe]();m[Ge]>0;)b=C||{},k=m[0],C=b[k],m[Qe]();if(null==C)for(m=e[le](/\./),b=this[te],k=m[0],C=b[k],m[Qe]();m[Ge]>0;)b=C||{},k=m[0],C=b[k],m[Qe]();let w="";if(null!=C&&C instanceof Object&&!i[de](C)?w=t(o[be](C)[Ge]):null!=C&&(w=C[Ge]),r){if(l)return a+w+s;if(d&&(C=dt(C,c,u),null==C))return;return a+C+s}if(l)return w;if(d){if(C=dt(C,c,u),null==C)return}else{if(f)return C[_]();if(g)return C[B]();if(h)return gt(+C,p)}return C}#P(e,t,n=[]){if(null==e&&t)return[{[fe]:rt.create,[Xe]:n,[he]:t}];if(e&&!t)return[{[fe]:rt.remove,[Xe]:n}];if(!e&&!t)return[];if(e.tag!==t.tag)return[{[fe]:rt[He],[Xe]:n,[he]:t}];const i=[];return i[j](...this.#j(e,t,n)),i[j](...this.#O(e,t,n)),i}#j(e,t,n=[]){if(null==e||"string"==typeof e||null==t||"string"==typeof t)return[];const i=[],r=e[ge]||{},a=o[be](r)[Ge],s=t[ge]||{},l=o[be](s)[Ge];if(l>0)for(let e in s){const o=s[e];i[j]({[fe]:rt.prop,[he]:t,key:e,value:o,[Xe]:n})}if(a>0){if(l<1)for(let e in r)i[j]({[fe]:rt.prop,[he]:t,key:e,[$e]:null,[Xe]:n});for(let e in s)l>0&&!(e in s)&&i[j]({[fe]:rt.prop,[he]:t,key:e,[$e]:null,[Xe]:n})}return i}#O(e,t,n=[]){if(null==e||"string"==typeof e||null==t||"string"==typeof t)return[];const o=[],r=i[de](e[S])?e[S]:[],a=i[de](t[S])?t[S]:[],s=d.max(r[Ge],a[Ge]);for(let e=0;e<s;e++){const i=r[e],s=a[e],l=n.concat(e);if("string"==typeof i&&"string"==typeof s){if(i===s)continue;o[j]({[fe]:rt.text,[he]:t,[$e]:s,[Xe]:l})}else null==i?o[j]({[fe]:rt.append,[he]:s,[Xe]:l}):null==s?o[j]({[fe]:rt.remove,index:l}):o[j](...this.#P(i,s,l))}return o}}}("undefined"==typeof window?window={}:window);export const QUI = window.QUI;
