!function(){"use strict";const e=document,t=String,n=Number,o=Array,i=Object,r=Boolean,a=JSON,s=URL,l=Date,d=Math,c=Promise,u=Node,f=parseInt,p=isNaN,g=structuredClone,h=/\{\{\s*(((CALC|LENGTH|UPPER|LOWER|DATE)\(\s*[\w\.\s\+\-\*\/\,\s\/\:]+\s*\))|[\w\.]+)\s*\}\}/i,b=/\s+([\w\.]+)\s*$/i,m=/\s*[\!\>\<\=]+\=*\s*/,y=/([\w\.]+)\s*([\+\-\*\/\%])\s*([\d\.]+)/,k=":path",v=":for",C=":if",E=":else-if",w=":elif",P=":else",A="push",T="splice",D="head",M="startsWith",O="children",x="parentElement",L="textContent",N="toLowerCase",R="dismiss",S="getElementById",B="test",H="data",Y="event",_="trim",$="parse",I="src",V="split",z="isArray",U="indexOf",j="type",F="props",X="display",W="vdom",q="appendChild",G="createTextNode",J="removeAttribute",K="keys",Q="parentNode",Z="setAttribute",ee="addEventListener",te="TEXT_NODE",ne="ELEMENT_NODE",oe="headers",ie="get",re="crossOrigin",ae="anonymous",se="slice",le="unobserve",de="script",ce="tagName",ue="tag",fe="stringify",pe="id",ge="style",he="innerHTML",be="forEach",me="replace",ye="value",ke="body",ve="length",Ce="match",Ee="shift",we="index",Pe={[C]:null,[E]:null,[w]:null,[P]:null},Ae={":id":"id",":src":I,":alt":"alt",":href":"href",tagHtml:"innerHTML"},Te={":margin":"margin",":padding":"padding",":border":"border",":border-radius":"borderRadius",":borderRadius":"borderRadius",":outline":"outline",":box-sahdow":"boxShadow",":boxSahdow":"boxShadow",":bg-image":"backgroundImage",":background-image":"backgroundImage",":backgroundImage":"backgroundImage",":bg-attachment":"backgroundAttachment",":background-attachment":"backgroundAttachment",":backgroundAttachment":"backgroundAttachment",":bg-blend-mode":"backgroundBlendMode",":background-blend-mode":"backgroundBlendMode",":backgroundBlendMode":"backgroundBlendMode",":bg-clip":"backgroundClip",":background-clip":"backgroundClip",":backgroundClip":"backgroundClip",":bg-origin":"backgroundOrigin",":background-origin":"backgroundOrigin",":backgroundOrigin":"backgroundOrigin",":bg-position":"backgroundPosition",":background-position":"backgroundPosition",":backgroundPosition":"backgroundPosition",":bg-position-x":"backgroundPositionX",":background-position-x":"backgroundPositionX",":backgroundPositionX":"backgroundPositionX",":bg-position-y":"backgroundPositionY",":background-position-y":"backgroundPositionY",":backgroundPositionY":"backgroundPositionY",":bg-repeat":"backgroundRepeat",":background-repeat":"backgroundRepeat",":backgroundRepeat":"backgroundRepeat",":bg-size":"backgroundSize",":background-size":"backgroundSize",":backgroundSize":"backgroundSize",":bg-color":"backgroundColor",":background-color":"backgroundColor",":backgroundColor":"backgroundColor",":color":"color"},De={create:"CREATE",append:"APPEND",replace:"REPLACE",text:"TEXT",prop:"PROP",remove:"REMOVE"},Me="ID: 未提供",Oe="元素: 不存在。";async function xe(e,t=!1){return new c((async(n,o)=>{try{const i=await fetch(e);if(i.ok){const e=i[oe][ie]("Content-Type");if(e&&e[M]("image")){if("image/svg+xml"==e&&!t)return void n(i);const r=await i.blob(),a=new Image,l=s.createObjectURL(r);a[I]=l,a[re]=ae,a.onload=e=>n({[I]:l,img:a}),a.onerror=e=>{s.revokeObjectURL(l),o(e)}}else n(i)}else o(new Error(`HTTP error! status: ${i.status}`))}catch(e){o(e)}}))}function Le(e,t,n){return new Proxy(e,{get(e,o,i){const r=Reflect.get(e,o,i),a=t?`${t}.${o.toString()}`:o.toString();return"object"==typeof r&&null!==r?Le(r,a,n):r},set(e,o,i,r){const a=e[o],s=Reflect.set(e,o,i,r),l=t?`${t}.${o.toString()}`:o.toString();return a!==i&&n(l,i,a),s}})}window.QUI=class{body;data;event;done={};#e=!0;#t;#n;#o;#i=new Map;#r=!1;#a;#s;#l;#d;#c=null;#u=null;#f=null;constructor(n={}){if(t(n[pe]||"")[ve]<1)return void this.#p(Me);const o=e[S](n[pe]);if(null==o)return void this.#p(Oe);this.#c=this.#g(o),this[ke]=o,this[H]=Le(n[H]||{},"",(e=>{clearTimeout(this.#o),this.#o=setTimeout((async()=>{this.#t=l.now(),null!=this.#l&&!1===await this.#h(this.#l)||(this.#b(),null==this.#d||this.#m(this.#d))}),300)})),this[Y]=n[Y]||{};const i=n.option||{};!1!==i.svg&&function(){if(null!=Se)return;Be=new IntersectionObserver((e=>{e.forEach((e=>{if(!e.isIntersecting)return;const t=e.target,n=(t.getAttribute("src")||"")[_]();n[ve]<1||xe(n).then((e=>{Be[le](t),e.text().then((e=>{const n=Ye("div");n[he]=e;const o=n[O][0];o.id=t.id,t.classList[be]((e=>o.classList.add(e))),o.onclick=t.onclick,null!=t[x]&&t[x].insertBefore(o,t),t.remove()})).catch((e=>{t[he]="☒"}))})).catch((e=>{Be[le](t),t[he]="☒"}))}))})),[][se].call(document.body.querySelectorAll("temp-svg[src]:not([src=''])")||[])[be]((e=>Be.observe(e)))}(),!1!==i.lazyload&&function(){if(null!=Ne)return;Re=new IntersectionObserver(((e,t)=>{e[be]((e=>{const t=e.target;if(e.isIntersecting){t.parentElement;const e=t.getAttribute("lazyload")||"";if(e[ve]<1)return;t.removeAttribute("lazyload"),delete t.dataset[I],xe(e,!0).then((e=>{Re[le](t),t[I]=e[I]})).catch((e=>{Re[le](t),t[I]="https://cdn.jsdelivr.net/gh/pardnchiu/PDRenderKit@latest/static/image/404.svg"}))}}))})),[][se].call(document.body.querySelectorAll("img[lazyload]:not([lazyload=''])")||[])[be]((e=>Re.observe(e)))}(),this.#a=n.before_render||void 0,this.#s=n.rendered||void 0,this.#l=n.before_update||void 0,this.#d=n.updated||void 0,this.#f=g(this.#c),(async()=>{this.#t=l.now(),null!=this.#a&&!1===await this.#h(this.#a)||(this.#b(),null==this.#s||this.#m(this.#s))})()}#p(...t){const n=Ye(de,`console.log.apply(void 0, ${a[fe](t)});`);e.body[q](n),n.remove()}#g(t){if(t[ce][N]()===de){let n=!1;for(const o of e[D].querySelectorAll(de)||[])if(null!=t[I]&&o[I]===t[I]||null!=t[L]&&o[L]===t[L]){n=!0;break}return n||e[D][q](t),{[ue]:de,[F]:{},[O]:[],[H]:null,[R]:!1}}return{[ue]:t[ce][N](),[F]:(n=t,[...n.attributes].reduce(((e,t)=>(e[t.name]=t.value.trim(),e)),{})),[O]:He(t).map((e=>e.nodeType===Node[ne]?this.#g(e):(e[L]||"")[_]())),[H]:null,[R]:!1};var n}async#b(){this.#u=g(this.#c),null!=this.#u&&(this.#y(this.#u),await this.#k(this.#u),this.#v(this.#u),this.#C(this.#u),this.#n=l.now()-this.#t,this.#p("耗時:",this.#n/1e3))}#y(e){let t=0;for(;t<e[O][ve];){const n=e[O][t];if("string"==typeof n){t++;continue}if(null==n[H]&&(n[H]=e[H]),!(v in n[F])){t++,this.#y(n);continue}const i=n[F][v],r=(i[Ce](/^\(?\s*(\w+)/)||[])[1],s=(i[Ce](/\,\s*(\w+)/)||[])[1],l=(i[Ce](b)||[])[1];let d=this.#E(l,e[H]),c=[];if(delete n[F][v],o[z](d)){d=a[$](a[fe](d));for(const e in d){const t=a[$](a[fe](d[+e]));let o=g(n);o[H]=a[$](a[fe]({[r]:t,[l]:d})),null!=s&&(o[H][s]=+e),c.push(o)}e[O][T](t,1,...c),t+=c[ve]-2}else if(null!=d&&"object"==typeof d){d=a[$](a[fe](d));for(const e in d){const t=a[$](a[fe](d[e]));let o=g(n);o[H]=a[$](a[fe]({[r]:e,[s]:t,[l]:d})),c.push(o)}e[O][T](t,1,...c),t+=c[ve]-2}else t++;this.#y(n)}}#w(e,o){const a=e[O][o];if("string"==typeof a)return;const s=a[F]||{};if(i[K](s)[ve]<1||null==s[C]||null!=(s[E]||s[w]||s[P]))return;let l=o+1,d=e[O][l],c=[o],u=!1;for(;null!=d&&"string"!=typeof d&&!u;){if(c[A](l),l+=1,d=e[O][l],null==d||"string"==typeof d){u=!0;continue}const t=d[F]||{};u=null==(t[E]||t[w]||t[P])}let f=!1;for(let o of c){const i=e[O][o];if(null==i||"string"==typeof i)return;const a=i[F][C]||i[F][E]||i[F][w],s=null!=i[F][P];if(f||!f&&s)i[R]=!0;else if(null!=a){const e=a[V](m)[0],o=a[V](m)[1],s=((a[Ce](m)||[])[0]||"")[_](),l=this.#E(e,i[H]);null==o&&s[ve]<1?f=r(l):">"===s?f=(n(l)||0)>(n(o)||0):"<"===s?f=(n(l)||0)<(n(o)||0):">="===s||">=="===s?f=(n(l)||0)>=(n(o)||0):"<="===s||"<=="===s?f=(n(l)||0)<=(n(o)||0):"=="===s||"==="===s?f="null"==o?null==l:"true"==o?r(l):"false"==o?!r(l):"empty"==o?t(l||"")[ve]<1:t(l||"")==t(o):"!="!==s&&"!=="!==s||(f="null"==o?null!=l:"true"==o?!r(l):"false"==o?r(l):"empty"==o?t(l||"")[ve]>0:t(l||"")!=t(o)),i[R]=!f}}}async#k(e){let t=0;for(;t<e[O][ve];){const n=e[O][t];if("string"==typeof n||!(k in n[F])||"temp"!=n.tag){t++;continue}const o=n[F][k],i=this.#E(o,e[H])||o;delete n[F][k],await fetch(i).then((async n=>{const o=Ye("div",await n.text()).cloneNode(!0),i=this.#g(o);e[O][T](t,1,...i[O]),t+=i[O][ve]-2})),t++}}#v(e){let t=0;for(;t<e[O][ve];){let n=e[O][t];if("string"==typeof n)for(let o of n[Ce](new RegExp(h,"g"))||[]){const n=e[O][t]||"",i=o[Ce](h)||[];if(i[ve]<1)continue;const r=i[1]||"",a=this.#E(r,e[H]);"string"!=typeof n||r.length<1||null==a||(e[O][t]=n[me](new RegExp("{{\\s*?"+r[me](/(\?|\.|\+|\*|\\|\%|\-|\(|\))/g,"\\$1")+"\\s*?}}","i"),a))}else null!=n&&(i[K](n[F]||{})[ve]&&this.#w(e,t),this.#v(n));t++}}#C(t){const n=e[S](this[ke][pe]);if(null==n)return void this.#p(Oe);const i=this.#P(this.#f,t);o[z](i)&&this.#A(n,i),this.#f=t}#P(e,t,n=[]){if(null==e&&t)return[{[j]:De.create,[we]:n,[W]:t}];if(e&&!t)return[{[j]:De.remove,[we]:n}];if(!e&&!t)return[];if(e.tag!==t.tag)return[{[j]:De[me],[we]:n,[W]:t}];const o=[];return o[A](...this.#T(e,t,n)),o[A](...this.#D(e,t,n)),o}#T(e,t,n=[]){if(null==e||"string"==typeof e||null==t||"string"==typeof t)return[];const o=[],r=e[F]||{},a=i[K](r)[ve],s=t[F]||{},l=i[K](s)[ve];if(l>0)for(let e in s){const i=s[e];o[A]({[j]:De.prop,[W]:t,key:e,value:i,[we]:n})}if(a>0){if(l<1)for(let e in r)o[A]({[j]:De.prop,[W]:t,key:e,[ye]:null,[we]:n});for(let e in s)l>0&&!(e in s)&&o[A]({[j]:De.prop,[W]:t,key:e,[ye]:null,[we]:n})}return o}#D(e,t,n=[]){if(null==e||"string"==typeof e||null==t||"string"==typeof t)return[];const i=[],r=o[z](e[O])?e[O]:[],a=o[z](t[O])?t[O]:[],s=d.max(r[ve],a[ve]);for(let e=0;e<s;e++){const o=r[e],s=a[e],l=n.concat(e);if("string"==typeof o&&"string"==typeof s){if(o===s)continue;i[A]({[j]:De.text,[W]:t,[ye]:s,[we]:l})}else null==o?i[A]({[j]:De.append,[W]:s,[we]:l}):null==s?i[A]({[j]:De.remove,index:l}):i[A](...this.#P(o,s,l))}return i}#A(t,n){if(null!=t&&o[z](n)){(()=>{const e=n.filter((e=>e.type===De.remove)).sort(((e,t)=>{const n=(t.index.length||0)-(e.index.length||0);if(0!==n)return n;for(let n=0;n<(e.index.length||0);n++)if((e.index[n]||0)!==(t.index[n]||0))return(t.index[n]||0)-(e.index[n]||0);return 0}));for(const n of e){const e=this.#M(t,n.index);null!=e&&null!=e[Q]&&e[Q].removeChild(e)}})();for(let o of n){let n,{index:r}=o,s=a[$](a[fe](r||[]));o.type===De.append&&(n=s?.pop());const l=s?this.#M(t,s):t;if(l)if(o.type===De.create&&W in o){const t="string"==typeof o.vdom?e[G](o.vdom):this.#O(o.vdom);if(null==l[x])continue;l[x][q](t)}else if(o.type===De.replace&&W in o&&null!=l[Q]&&"string"!=typeof o.vdom){const e=this.#O(o.vdom);l[Q].replaceChild(e,l)}else if(o.type===De.text&&ye in o&&null!=l)l[L]=o.value||"";else if(o.type===De.prop&&"key"in o&&l instanceof Element)this.#x(l,o.key,o.value||"",o.vdom);else if(o.type===De.append&&W in o&&null!=n){const t="string"==typeof o.vdom?e[G](o.vdom):this.#O(o.vdom);if(n+1>l[O][ve]?l[q](t):l.insertBefore(t,l[O][n+1]),"string"==typeof o.vdom)continue;for(const[e,t]of i.entries(o.vdom[F]))this.#x(l[O][n],e,t||"",o.vdom);this.updatePatchAppendChild(o.vdom,l[O][n])}}}}updatePatchAppendChild(e,t){if("string"!=typeof e)for(const n in e.children.filter((e=>"string"!=typeof e))){const o=e.children[+n],r=t.children[+n];if("string"!=typeof o){for(const[e,t]of i.entries(o[F]))this.#x(r,e,t||"",o);this.updatePatchAppendChild(o,r)}}}async#h(e){return new c(((t,n)=>{t(!1!==e())}))}#m(e){e(!1)}#L(e,t,n,o){const i=this.#E(n,o[H])||n,a=(Ae[t[N]()]||"")[_](),s=(Te[t[N]()]||"")[_]();if(e[ge][X]=o[R]?"none":"",":lazyload"===t[N]()&&n[_]()[ve]>0&&Re.observe(e),t[N]()===v);else if(":src"===t[N]()&&"temp-svg"===o.tag[N]()&&n[_]()[ve]>0){const t=this.#E(n,o[H])||n;e.setAttribute(I,t),Be.observe(e)}else t[N]()in Pe||(t[N]()in Ae?e[a]=i:t[N]()in Te?e[ge][s]=i:":hide"===t[N]()&&r(p(+i)?i:+i)?e[ge][X]="none":i[ve]>0&&e[Z](`${t[me](/^:/,"")}`,i));e[J](t)}#N(e,t,n,o){(()=>{if(!1===t[M]("@"))return;const o=t[me](/^\@/,"on"),i=this[Y][n];e[o]=i})(),(()=>{if(!1===t[M](":@"))return;const i=t[me](/^\:\@/,"on"),r=this.#E(n,o[H]),a=this[Y][r];e[i]=a})()}#E(e,n){if(String(e)[_]()[ve]<1)return;const r=h[B](e);let a="",s="";r&&(a=e[V](h)[0]||"",s=e[V](h)[4]||"",e=e[Ce](h)[1]);const l=/^LENGTH\(.+\)/[B](e);l&&(e=e[me](/^LENGTH\(|\)$/g,""));const d=/^CALC\(.*\)$/[B](e);let c="",u=0;if(d){const t=(e=e[me](/^CALC\(|\)$/g,""))[Ce](y);e=t[1],c=t[2],u=+t[3]||0}const p=/^UPPER\(.*\)$/[B](e),g=/^LOWER\(.*\)$/[B](e);(p||g)&&(e=e[me](/^(UPPER|LOWER)\(|\)$/g,""));const b=/^DATE\([\w\,\-\s\:]*\)$/[B](e);let m="";if(b){const t=(e=e[me](/^DATE\(|\)$/g,""))[Ce](/(\w+),\s*([^\n]+)/);e=t[1],m=t[2]}let k=e[V](/\./),v=n||this[H],C=k[0],E=v[C];if(k[Ee](),null==E)return;for(;k[ve]>0;)v=E,C=k[0],E=v[C],k[Ee]();let w="";if(null!=E&&E instanceof Object&&!o[z](E)?w=t(i[K](E)[ve]):null!=E&&(w=E[ve]),r){if(l)return a+w+s;if(d&&(E=this.#R(E,c,u),null==E))return;return a+E+s}if(l)return w;if(d){if(E=this.#R(E,c,u),null==E)return}else{if(p)return E.toUpperCase();if(g)return E[N]();if(b)return function(e,n="yyyy/MM/DD (ddd) HH:mm:ss"){const o=new Date(1e3*e),i=t(o.getFullYear()),r=t(o.getMonth()+1),a=t(o.getDate()),s=t(o.getDay()),l=t(o.getHours()),d=t(o.getMinutes()),c=t(o.getSeconds()),u=t(o.getMilliseconds());let p={YYYY:i,yyyy:i,YY:i[se](-2),yy:i[se](-2),Y:i[se](-2),y:i[se](-2),M:r,MM:("0"+r)[se](-2),D:a,DD:("0"+a)[se](-2),d:s,dd:("0"+s)[se](-2),H:l,HH:("0"+l)[se](-2),h:t(f(l)%12||12),hh:("0"+(f(l)%12||12))[se](-2),m:d,mm:("0"+d)[se](-2),s:c,ss:("0"+c)[se](-2),SSS:("00"+u)[se](-3),a:f(l)>=12?"pm":"am",A:f(l)>=12?"PM":"AM"};const g=/zh/.test(navigator.language||"")?["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return p.ddd=g[f(s)][se](0,3),p.dddd=g[f(s)],n.replace(/YYYY|YY|Y|yyyy|yy|y|MM|M|DD|D|HH|H|hh|h|mm|m|ss|s|SSS|a|A|ddd|dddd/g,(e=>p[e]))}(+E,m)}return E}#M(e,t){let n=e,i=o.from(n.childNodes).filter((e=>e.nodeType===u[ne]||e.nodeType===u[te]&&""!==e[L]?.trim()))||[];for(const e of t)n=i[e],null!=n&&(i=o.from(n.childNodes).filter((e=>e.nodeType===u[ne]||e.nodeType===u[te]&&""!==e[L]?.trim()))||[]);return n}#O(t){const n=e.createElement(t.tag);if(t[F])for(const[e,o]of i.entries(t[F]))e[M](":")||e[M]("@")||void 0!==o&&n[Z](e,o);for(const o of t[O])if("string"==typeof o)n[q](e[G](o));else{if(!0===o[R])continue;n[q](this.#O(o))}return n}#x(t,n,o,i){if(null==o)t[J](n);else if(n[M](":@")||n[M]("@"))this.#N(t,n,o,i),t[J](n);else if(n.toLocaleLowerCase()[M](":model")){if(!/(input|select|textarea)/i[B](t[ce]))return;const i=t instanceof HTMLInputElement,r=t instanceof HTMLTextAreaElement,a=t instanceof HTMLSelectElement,s=t.getAttribute("type");!i||"checkbox"!==s&&"radio"!==s?a?t[ee]("change",(e=>{this[H][o]=e.target[ye]||""})):(i||r)&&(t[ee]("keyup",(e=>{this[H][o]=e.target[ye]||""})),t[ee]("change",(e=>{this[H][o]=e.target[ye]||""}))):t[ee]("change",(t=>{this[H][o]=[...e.body.querySelectorAll("input[name='"+t.target.name+"'][type='"+s+"']:checked")].map((e=>e.value)).join(",")})),t[J](n)}else n[M](":")?this.#L(t,n,o,i):t[Z](n,o)}#R(e,t,o){return e=n(e),o=n(o),p(e)||p(o)?void 0:"+"===t?e+o:"-"===t?e-o:"*"===t?e*o:"/"===t?e/o:"%"===t?e%o:e}};let Ne,Re,Se,Be;new Map;function He(e){return o.from(e.childNodes).filter((e=>e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE&&e.textContent&&e.textContent.trim().length>0))}function Ye(n="",i,r){const a=/\.([\w_-]+)?/gi,s=((n[Ce](/^\w+(?=[\#\.]*)/i)||[])[0]||"")[_](),l=((n[Ce](/\#([\w_-]+)?/i)||[])[1]||"")[_](),d=(a.test(n)&&n.match(a)||[]).map((e=>e.replace(/^\./,"")));if(s[ve]<1)return;let c,u,f,p=!1;"temp"===n?(p=!0,c=e.createDocumentFragment()):c=e.createElement(s),l[ve]&&(c.id=l);for(let e of d)c.classList.add(e);if(null==i&&null!=r&&([i,r]=[r,null]),null!=i&&null!=r)[u,f]=[i,r];else if(null==r)"string"==typeof i||"number"==typeof i||o[z](i)?f=i:u=i;else if(null==i)return c;if("object"==typeof u&&null!=u)for(const e in u){if(!u.hasOwnProperty(e))continue;const t=u[e];-1!=["value","innerText",he,"textContent","contentEditable"][U](e)?c[e]=t:-1!=["color","backgroundColor","width","height","display","float"][U](e)?c.style[e]=t:null!=t&&c[Z](e,t)}if(null!=f){const n="string"==typeof f,i="number"==typeof f,r=o[z](f);if(n||i){const t=f;"img"===s||"source"===s?c.src=t:p?c[q](e[G](f)):c[he]=t}else if(r)for(let n of f){const o=n instanceof Element;"string"==typeof n||"number"==typeof n?p?c[q](e[G](t(n))):c[he]+=n:o&&c[q](n)}}return c}}("undefined"==typeof window?window={}:window);